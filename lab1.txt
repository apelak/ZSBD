stworzenie tabeli employees

CREATE TABLE EMPLOYEES (
 employee_id int not null primary key,
 first_name varchar(255) not null,
 last_name varchar(255) not null,
 email varchar(255),
 phone_number varchar(9),
 hire_date date not null,
 job_id int,
 salary float,
 commision_pct float,
 manager_id int,
 department_id int,
 CONSTRAINT FK_manager_id FOREIGN KEY (manager_id)
 REFERENCES EMPLOYEES(employee_id)
);

CREATE TABLE REGIONS (
    region_id int not null primary key,
    region_name varchar(255)
)

CREATE TABLE COUNTRIES (
    country_id int not null primary key,
    country_name varchar(255),
    region_id int,
    CONSTRAINT FK_region_id FOREIGN KEY (region_id) 
    REFERENCES REGIONS(region_id)
)

CREATE TABLE LOCATIONS (
    location_id int not null primary key,
    street_address varchar(255) not null,
    postal_code varchar(255) not null,
    city varchar(255) not null,
    state_province varchar(255) not null,
    country_id int,
    CONSTRAINT FK_country_id FOREIGN KEY (country_id)
    REFERENCES COUNTRIES(country_id)
)

CREATE TABLE DEPARTMENTS (
    department_id int not null primary key,
    department_name varchar(255),
    manager_id int,
    location_id int,
    CONSTRAINT FK_manager FOREIGN KEY (manager_id)
    REFERENCES EMPLOYEES(employee_id),
    CONSTRAINT FK_location_id FOREIGN KEY (location_id)
    REFERENCES LOCATIONS(location_id)
)

CREATE TABLE JOBS (
    job_id int not null primary key,
    job_title varchar(255) not null,
    min_salary float not null,
    max_salary float not null,
    check (max_salary - min_salary >= 2000)
)

CREATE TABLE JOB_HISTORY (
    employee_id int not null,
    start_date date not null,
    end_date date,
    job_id int,
    department_id int,
    CONSTRAINT PK_job_history PRIMARY KEY (employee_id, start_date),
    CONSTRAINT FK_employee_id FOREIGN KEY (employee_id)
    REFERENCES EMPLOYEES(employee_id),
    CONSTRAINT FK_department FOREIGN KEY (department_id)
    REFERENCES DEPARTMENTS(department_id),
    CONSTRAINT FK_jobs FOREIGN KEY (job_id)
    REFERENCES JOBS(job_id)
)


edycja istniejÄ…cych tabel:

alter table EMPLOYEES
add CONSTRAINT FK_jobs_id FOREIGN KEY (job_id)
REFERENCES JOBS(job_id)

alter table EMPLOYEES
add CONSTRAINT FK_department_id FOREIGN KEY (department_id)
REFERENCES DEPARTMENTS(department_id)


dodawanie jobs:

INSERT INTO JOBS 
VALUES 
(1, 'pierwsza_praca', 3000, 5000),
(2, 'druga_praca', 8000, 12000),
(3, 'trzecia_praca', 18000, 25000),
(4, 'czwarta_praca', 1500, 4000);

